head	1.4;
access;
symbols;
locks; strict;
comment	@# @;


1.4
date	2021.09.13.21.04.30;	author jbev;	state Exp;
branches;
next	1.3;

1.3
date	2021.09.13.20.51.40;	author jbev;	state Exp;
branches;
next	1.2;

1.2
date	2021.07.05.20.38.33;	author jbev;	state Exp;
branches;
next	1.1;

1.1
date	2021.07.02.03.36.47;	author jbev;	state Exp;
branches;
next	;


desc
@Initial RCS version.
@


1.4
log
@Correct install.
@
text
@#
# Makefile for basename for running on Linux
#
CC = cc
CFLAGS = -O -DMPX -m32
SYSBIN = /system/bin
LBIN = ./linux
INSTALL = cp
MOVE = mv
MAKEFILE = make.unix

OBJS = basename.o
HDRS =
SRCS = basename.c
DOC = basename.m
MAIN = basename

all:	$(DOC) $(SRCS) $(MAIN)

$(MAIN): $(MAKEFILE) $(SRCS)	
	$(CC) $(CFLAGS) -o $(MAIN) $(SRCS)
	/bin/chmod 755 $(MAIN)

clean:
	-rm -f $(OBJS)

clobber: clean
	-rm -f $(MAIN) $(LBIN)/$(MAIN) $(LBIN)/$(SRCS) $(LBIN)/$(DOC)
#	-rm -f $(SYSBIN)/$(MAIN)

install: all
	@@if [ -d $(LBIN) ]; then \
			echo "$(LBIN) already exits"; \
	else \
			mkdir $(LBIN); \
	fi;
	$(MOVE) $(MAIN) $(LBIN)/$(MAIN)
#	$(INSTALL) $(LBIN)/$(MAIN) $(SYSBIN)
	$(INSTALL) $(SRCS) $(LBIN)/$(SRCS)
	$(INSTALL) $(DOC) $(LBIN)/$(DOC)
	/bin/chmod 664 $(LBIN)/*.?

@


1.3
log
@Change mpxmac location.
@
text
@d39 2
a40 2
	$(INSTALL) $(SRCS) $(LBIN)
	$(INSTALL) $(DOC) $(SRCS) $(LBIN)
@


1.2
log
@Remove doc file on make clobber.
@
text
@d29 1
d38 1
a38 1
#	$(INSTALL) $(LBIN)/basename $(SYSBIN)
@


1.1
log
@Initial revision
@
text
@d28 1
a28 1
	-rm -f $(MAIN) $(LBIN)/$(MAIN) $(LBIN)/$(SRCS)
@
